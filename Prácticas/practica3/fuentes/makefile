###############################################################################
# makefile
###############################################################################

SRC = $(wildcard *.cc)

###############################################################################

ASFLAGS = --32 -g
LDFLAGS = -L/usr/lib -melf_i386 --no-as-needed
CFLAGS = -m32 -O2 -Wall
CXXFLAGS = $(CFLAGS) -std=c++0x

###############################################################################

suma_09_Casm: suma_09_Casm.c
	$(CC) $(CFLAGS) -fno-inline $^ -o $@

###############################################################################

popcount: popcount.c
	$(CC) $(CFLAGS) $^ -o $@

###############################################################################

parity: parity.c
	$(CC) $(CFLAGS) $^ -o $@

clean:
	$(RM) -rfv $(ATT) $(EXE) $(OBJ) core.* perf.* *.o *~ *.bin

debug: popcount.gdb popcount
	gdb --batch -q -x "./$<"

###############################################################################

.PHONY: all clean debug

###############################################################################

